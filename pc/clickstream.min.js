function Cs(t){this.autoP=t.autoP||!0;var e=this.checkCookie();if(t.did=e,this.autoP){t.typ="p",t.eid=document.title,t.tpc="system",t.us=this.getQueryString("utm_source")||"",t.um=this.getQueryString("utm_medium")||"",t.uc=this.getQueryString("utm_campaign")||"",t.uct=this.getQueryString("utm_content")||"",t.ut=this.getQueryString("utm_term")||"";var o=this.getSearchUrlKeyWord()||"",i=this.getSearchUrl()||"";if(""!=i){var s=this.getCookie("sf");null==s||""==s?(this.addCookie("sf",i,0),this.addCookie("wd",o,0)):i!=s&&(this.addCookie("sf",i,0),this.addCookie("wd",o,0))}t.sf=this.getCookie("sf")||"",t.wd=this.getCookie("wd")||""}this.logData=this.getLog(t),this.autoP&&this.autoPSend()}Cs.prototype.stream=function(t){this.logData.cm.tpc=t.tpc,this.logData.cm.us="",this.logData.cm.um="",this.logData.cm.uc="",this.logData.cm.uct="",this.logData.cm.ut="",this.logData.log[0].typ="e",this.logData.log[0].eid=t.eid,this.logData.log[0].data=t.data,this.send()},Cs.prototype.autoPSend=function(){this.send()},Cs.prototype.send=function(){var t=this.logData.cm.sid;if(null==t||""==t){var e=this.getCookie("c_s_id");null!=e&&""!=e||(e=this.guid(),this.addCookie("c_s_id",e,0)),this.logData.cm.sid=e}var o=JSON.stringify(this.logData);console.log("---\x3e"+o);var i=(new Date).valueOf(),s=$.md5("300.cn"+i+o+i+o+i+"300.cn");$.ajax({url:"https://tracing.yun300.cn/cs",type:"POST",async:!0,data:{cs:o,ts:i,sig:s},timeout:5e3,dataType:"json",success:function(t,e,o){1e4==t.status?console.log("success"):console.log("error")},error:function(t,e){console.log("error")},complete:function(){}})},Cs.prototype.setCookie=function(t,e,o){var i=new Date;i.setDate(i.getDate()+o),document.cookie=t+"="+escape(e)+(null==o?"":"; expires="+i.toGMTString())},Cs.prototype.getCookie=function(t){return document.cookie.length>0&&(c_start=document.cookie.indexOf(t+"="),-1!=c_start)?(c_start=c_start+t.length+1,c_end=document.cookie.indexOf(";",c_start),-1==c_end&&(c_end=document.cookie.length),unescape(document.cookie.substring(c_start,c_end))):""},Cs.prototype.checkCookie=function(){var t=this.getCookie("did");return null!=t&&""!=t?t:(t=this.guid(),this.setCookie("did",t,2592e6),t)},Cs.prototype.S4=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)},Cs.prototype.guid=function(){return this.S4()+this.S4()+"-"+this.S4()+"-"+this.S4()+"-"+this.S4()+"-"+this.S4()+this.S4()+this.S4()},Cs.prototype.getLog=function(t){return{cm:{aid:t.aid,ver:"1",clt:t.clt,pf:t.pf,tpc:t.tpc,did:t.did,uid:t.uid||"",sid:t.sid||"",lc:t.lc||"",us:t.us||"",um:t.um||"",uc:t.uc||"",uct:t.uct||"",ut:t.ut||"",sf:t.sf||"",wd:t.wd||"",msg:t.msg||""},log:[{typ:t.typ,pid:this.getUrl(),ppid:decodeURI(document.referrer),eid:t.eid||"",pno:"",net:"1",sn:location.host,ct:(new Date).getTime(),data:t.data||null}]}},Cs.prototype.getQueryString=function(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),o=window.location.search.substr(1).match(e);return null!=o?decodeURI(o[2]):null},Cs.prototype.getUrl=function(){var t=decodeURI(document.location.toString());return-1!=t.indexOf("?")&&(t=t.split("?")[0]),t},Cs.prototype.getSearchUrl=function(){var t=decodeURI(document.referrer.toString());-1!=t.indexOf("?")&&(t=t.split("?")[0]);var e="";return-1!=t.indexOf("baidu.com/link")?e=t:-1!=t.indexOf("so.com/link")?e=t:-1!=t.indexOf("sogou.com/link")?e=t:-1!=t.indexOf("google.com")?e=t:-1!=t.indexOf("bing.com/link")&&(e=t),e},Cs.prototype.getSearchUrlKeyWord=function(){var t="&"+document.referrer.toString().split("?")[1],e="";if(""==(e=-1!=t.indexOf("baidu.com/s")?"wd":-1!=t.indexOf("so.com/s")?"q":-1!=t.indexOf("sogou.com/sogou")?"query":-1!=t.indexOf("google.com/search")?"q":-1!=t.indexOf("bing.com/search")?"q":"wd"))return null;var o=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),i=t.match(o);return null!=i?decodeURI(i[2]):null},Cs.prototype.addCookie=function(t,e,o){var i=t+"="+escape(e);if(o>0){var s=new Date,n=3600*o*1e3;s.setTime(s.getTime()+n),i+="; expires="+s.toGMTString()}document.cookie=i};